<h1>Games</h1>
<div class="pull-left">
    <button ng-click="tableParams.sorting({})" class="btn btn-default">Clear sorting</button>
    <button ng-click="tableParams.filter({})" class="btn btn-default">Clear filter</button>
</div>
<div class="pull-right">
    <ul class="nav nav-pills">
        <li class="active">
            <a><span class="badge pull-right">{{ games.length }}</span>Games</a>
        </li>
        <li class="active">
            <a><span class="badge pull-right">{{ keyCount() }}</span>Keys</a>
        </li>
    </ul>
</div>

<table ng-table="tableParams" show-filter="true" class="table table-responsive table-striped table-condensed table-hover">
    <tr ng-repeat="game in $data">
        <td data-title="'Title'" sortable="'title'" filter="{ 'title': 'text' }"><a ui-sref="gameView({titleSlug: game.title_slug})" data-toggle="tooltip" data-placement="left" title="{{ game.title }}">{{ game.title }}</a></td>
        <td data-title="'Bundle'" sortable="'bundle'" filter="{ 'bundle': 'text' }">{{ game.bundle }}</td>
        <td data-title="'DRM'" sortable="'drm'" filter="{ 'drm': 'text' }">{{ game.drm }}</td>
        <td data-title="'Game Keys'" sortable="'gamekeys_count'" filter="{ 'gamekeys_count': 'text' }">{{ game.gamekeys_count }}</td>
        <td data-title="'Store URL'"><a href="{{ game.store_url }}" target="_blank">Store</a></td>
    </tr>
</table>

<div class="alert alert-warning text-center" data-ng-show="games.length == 0">
    <h2>No bundle data matching those filters... Sorry!</h2>
</div>